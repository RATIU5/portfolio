---
import Page from "../layouts/page.astro";
---


<Page>
  <canvas id="upperDrip" class="h-[400px] w-full"></canvas>
</Page>

<script>
import { createScene, createCanvas } from "../lib/canvas";

let canvasEl = document.getElementById("upperDrip") as HTMLCanvasElement;
type State = {
  x: number
}
createScene<State>([
  createCanvas<State>(canvasEl, {
    setup: (canvas) => {
      canvas.width = window.innerWidth;
      canvas.height = 400;
      return {
        x: 0
      }
    },
    resize: (canvas) => {
      canvas.width = window.innerWidth;
      canvas.height = 400;
    },
    paint: ({ctx, state, canvas}) => {
      state.x += 1;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "blue";
      ctx.fillRect(state.x, 0, 100, 100);
    },
  })
]);
</script>

